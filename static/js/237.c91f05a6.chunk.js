"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[237],{9237:function(e,n,r){r.r(n),r.d(n,{UsersContainer:function(){return R},default:function(){return G}});var t=r(5671),o=r(3144),s=r(136),u=r(8557),i=r(364),l=r(4016),a=r(2791),c="Users_users__oN5Ju",f="Users_user__ureKU",p="Users_avatarBlock__wMID1",g="Users_userAvatar__iB0UT",d="Users_textBlock__xLso1",h="Users_userName__Q61gT",v="Users_locationBlock__lcueO",w="Users_userCountry__gGoSG",C=r(9439),m="Pagination_selectedPage__Pw2dF",y="Pagination_pageSelector__5eWWb",P=r(184),x=function(e){for(var n=Math.ceil(e.totalItemsCount/e.pageSize),r=[],t=1;t<=n;t++)r.push(t);var o=Math.ceil(n/e.portionSize),s=(0,a.useState)(1),u=(0,C.Z)(s,2),i=u[0],l=u[1],c=(i-1)*e.portionSize+1,f=i*e.portionSize;return(0,P.jsxs)("div",{children:[i>1&&(0,P.jsx)("button",{onClick:function(){return l(i-1)},children:" prev "}),r.filter((function(e){return e>=c&&e<=f})).map((function(n){return(0,P.jsxs)("span",{className:e.currentPage===n?m:y,onClick:function(r){return e.onPageChanged(n)},children:[n," "]})})),o>i&&(0,P.jsx)("button",{onClick:function(){return l(i+1)},children:"next"})]})},_=r(5987),j=r(4661),U=r(1523),k=["user"],S=function(e){var n=e.user,r=(0,_.Z)(e,k);return(0,P.jsxs)("div",{className:f,children:[(0,P.jsxs)("span",{className:p,children:[(0,P.jsx)("div",{children:(0,P.jsx)(U.OL,{to:"/profile/"+n.id,children:(0,P.jsx)("img",{className:g,src:null!=n.photos.small?n.photos.small:j,alt:"user photo"})})}),(0,P.jsx)("div",{children:n.followed?(0,P.jsx)("button",{disabled:r.followingInProgress.some((function(e){return e===n.id})),onClick:function(){r.unfollowTC(n.id)},children:"Unfollow"}):(0,P.jsx)("button",{disabled:r.followingInProgress.some((function(e){return e===n.id})),onClick:function(){r.followTC(n.id)},children:"Follow"})})]}),(0,P.jsxs)("span",{className:d,children:[(0,P.jsxs)("span",{children:[(0,P.jsx)("div",{className:h,children:n.name}),(0,P.jsx)("div",{children:n.status})]}),(0,P.jsxs)("span",{className:v,children:[(0,P.jsx)("div",{className:w,children:"user.location.country"}),(0,P.jsx)("div",{children:"user.location.city"})]})]})]},n.id)},z=function(e){for(var n=e.totalUsersCount/e.pageSize,r=[],t=1;t<=n;t++)r.push(t);return(0,P.jsxs)("div",{className:c,children:[(0,P.jsx)(x,{currentPage:e.currentPage,onPageChanged:e.onPageChanged,pageSize:e.pageSize,totalItemsCount:e.totalUsersCount,portionSize:10}),e.users.map((function(n){return(0,P.jsx)(S,{user:n,followingInProgress:e.followingInProgress,followTC:e.followTC,unfollowTC:e.unfollowTC})}))]})},T=r(4863),b=r(7781),N="NOT_FOUND";var I=function(e,n){return e===n};function A(e,n){var r="object"===typeof n?n:{equalityCheck:n},t=r.equalityCheck,o=void 0===t?I:t,s=r.maxSize,u=void 0===s?1:s,i=r.resultEqualityCheck,l=function(e){return function(n,r){if(null===n||null===r||n.length!==r.length)return!1;for(var t=n.length,o=0;o<t;o++)if(!e(n[o],r[o]))return!1;return!0}}(o),a=1===u?function(e){var n;return{get:function(r){return n&&e(n.key,r)?n.value:N},put:function(e,r){n={key:e,value:r}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(l):function(e,n){var r=[];function t(e){var t=r.findIndex((function(r){return n(e,r.key)}));if(t>-1){var o=r[t];return t>0&&(r.splice(t,1),r.unshift(o)),o.value}return N}return{get:t,put:function(n,o){t(n)===N&&(r.unshift({key:n,value:o}),r.length>e&&r.pop())},getEntries:function(){return r},clear:function(){r=[]}}}(u,l);function c(){var n=a.get(arguments);if(n===N){if(n=e.apply(null,arguments),i){var r=a.getEntries(),t=r.find((function(e){return i(e.value,n)}));t&&(n=t.value)}a.put(arguments,n)}return n}return c.clearCache=function(){return a.clear()},c}function F(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var r=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+r+"]")}return n}function Z(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];var o=function(){for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];var s,u=0,i={memoizeOptions:void 0},l=t.pop();if("object"===typeof l&&(i=l,l=t.pop()),"function"!==typeof l)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var a=i,c=a.memoizeOptions,f=void 0===c?r:c,p=Array.isArray(f)?f:[f],g=F(t),d=e.apply(void 0,[function(){return u++,l.apply(null,arguments)}].concat(p)),h=e((function(){for(var e=[],n=g.length,r=0;r<n;r++)e.push(g[r].apply(null,arguments));return s=d.apply(null,e)}));return Object.assign(h,{resultFunc:l,memoizedResultFunc:d,dependencies:g,lastResult:function(){return s},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),h};return o}var O=Z(A),E=function(e){return e.usersPage.users},L=function(e){return e.usersPage.pageSize},q=function(e){return e.usersPage.totalUsersCount},B=function(e){return e.usersPage.currentPage},D=function(e){return e.usersPage.isLoading},M=function(e){return e.usersPage.followingInProgress},R=(O(E,(function(e){e.filter((function(e){return!0}))})),function(e){(0,s.Z)(r,e);var n=(0,u.Z)(r);function r(){var e;(0,t.Z)(this,r);for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return(e=n.call.apply(n,[this].concat(s))).onPageChanged=function(n){e.props.getUsersTC(n,e.props.pageSize)},e}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){this.props.getUsersTC(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return(0,P.jsxs)(P.Fragment,{children:[this.props.isLoading?(0,P.jsx)(T.p,{}):null,(0,P.jsx)(z,{users:this.props.users,onPageChanged:this.onPageChanged,pageSize:this.props.pageSize,currentPage:this.props.currentPage,follow:this.props.follow,unfollow:this.props.unfollow,totalUsersCount:this.props.totalUsersCount,toggleFollowingProgress:this.props.toggleFollowingProgress,followingInProgress:this.props.followingInProgress,followTC:this.props.followTC,unfollowTC:this.props.unfollowTC})]})}}]),r}(a.Component)),G=(0,b.qC)((0,i.$j)((function(e){return{users:E(e),pageSize:L(e),totalUsersCount:q(e),currentPage:B(e),isLoading:D(e),followingInProgress:M(e)}}),{follow:l.ZN,unfollow:l.fv,setCurrentPage:l.D4,toggleFollowingProgress:l.ZH,getUsersTC:l.Xn,followTC:l.iR,unfollowTC:l.Ky}))(R)},4661:function(e,n,r){e.exports=r.p+"static/media/defaultAvatar.8e7ab55da0bc52271ed8.jpeg"}}]);
//# sourceMappingURL=237.c91f05a6.chunk.js.map