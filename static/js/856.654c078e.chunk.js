"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[856],{7856:function(e,t,s){s.r(t),s.d(t,{default:function(){return V}});var o=s(1413),i=s(5671),r=s(3144),n=s(136),a=s(8557),l=s(2791),u=s(9439),c="ProfileInfo_descriptionBlock__2ABVO",d="ProfileInfo_avatarLarge__ijRVC",p="ProfileInfo_infoBlock__MECeo",h="ProfileInfo_uploadBtnArea__BqhGC",f=s(4863),b=s(184),m=function(e){var t=(0,l.useState)(!1),s=(0,u.Z)(t,2),o=s[0],i=s[1],r=(0,l.useState)(e.status),n=(0,u.Z)(r,2),a=n[0],c=n[1];(0,l.useEffect)((function(){c(e.status)}),[e.status]);return(0,b.jsxs)("div",{children:[!o&&(0,b.jsxs)("div",{onDoubleClick:function(){i(!0)},children:[(0,b.jsx)("b",{children:"\u0421\u0442\u0430\u0442\u0443\u0441:"})," ",e.status||"No status"]}),o&&(0,b.jsx)("div",{children:(0,b.jsx)("input",{autoFocus:!0,value:a,onBlur:function(){i(!1),e.updateStatus(a)},onChange:function(e){c(e.currentTarget.value)}})})]})},D=s(4661),g=s(5705),x=s(9999),j=function(e){var t=e.profile,s=e.saveProfile,i=e.setEditMode,r=(0,x.C)((function(e){return e.profilePage.errorMessage})),n=(0,g.TA)({initialValues:{fullName:t.fullName,lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription,aboutMe:t.aboutMe,facebook:t.contacts.facebook,website:t.contacts.website,vk:t.contacts.vk,twitter:t.contacts.twitter,instagram:t.contacts.instagram,youtube:t.contacts.youtube,github:t.contacts.github,mainLink:t.contacts.mainLink},onSubmit:function(e){var t={fullName:e.fullName,lookingForAJob:e.lookingForAJob,lookingForAJobDescription:e.lookingForAJobDescription,aboutMe:e.aboutMe,contacts:{facebook:e.facebook,website:e.website,vk:e.vk,twitter:e.twitter,instagram:e.instagram,youtube:e.youtube,github:e.github,mainLink:e.mainLink}};!function(e,t,s){e(t,s)}(s,t,i)}});return(0,b.jsxs)("form",{onSubmit:n.handleSubmit,children:[r.length>0?(0,b.jsx)("div",{style:{color:"red",background:"orange"},children:r}):"",(0,b.jsx)("label",{htmlFor:"fullName",children:"Full Name: "}),(0,b.jsx)("input",(0,o.Z)({id:"fullName",type:"text",placeholder:"Full Name"},n.getFieldProps("fullName"))),(0,b.jsx)("label",{htmlFor:"lookingForAJob",children:"Looking for a job: "}),(0,b.jsx)("input",{id:"lookingForAJob",name:"lookingForAJob",type:"checkbox",onChange:n.handleChange,checked:n.values.lookingForAJob}),(0,b.jsx)("label",{htmlFor:"lookingForAJobDescription",children:"My professional skills: "}),(0,b.jsx)("input",(0,o.Z)({placeholder:"Professional skills",id:"lookingForAJobDescription",type:"text"},n.getFieldProps("lookingForAJobDescription"))),(0,b.jsx)("label",{htmlFor:"aboutMe",children:"About me: "}),(0,b.jsx)("input",(0,o.Z)({id:"aboutMe",type:"text",placeholder:"About me"},n.getFieldProps("aboutMe"))),(0,b.jsx)("label",{htmlFor:"facebook",children:"Facebook: "}),(0,b.jsx)("input",(0,o.Z)({id:"facebook",type:"text",placeholder:"facebook"},n.getFieldProps("facebook"))),(0,b.jsx)("label",{htmlFor:"vk",children:"VK: "}),(0,b.jsx)("input",(0,o.Z)({id:"vk",type:"vk",placeholder:"vk"},n.getFieldProps("vk"))),(0,b.jsx)("label",{htmlFor:"github",children:"Github: "}),(0,b.jsx)("input",(0,o.Z)({id:"github",type:"github",placeholder:"github"},n.getFieldProps("github"))),(0,b.jsx)("label",{htmlFor:"twitter",children:"Twitter: "}),(0,b.jsx)("input",(0,o.Z)({id:"twitter",type:"twitter",placeholder:"twitter"},n.getFieldProps("twitter"))),(0,b.jsx)("label",{htmlFor:"instagram",children:"Instagram: "}),(0,b.jsx)("input",(0,o.Z)({id:"instagram",type:"instagram",placeholder:"instagram"},n.getFieldProps("instagram"))),(0,b.jsx)("label",{htmlFor:"mainLink",children:"MainLink: "}),(0,b.jsx)("input",(0,o.Z)({id:"mainLink",type:"mainLink",placeholder:"mainLink"},n.getFieldProps("mainLink"))),(0,b.jsx)("label",{htmlFor:"website",children:"Website: "}),(0,b.jsx)("input",(0,o.Z)({id:"website",type:"website",placeholder:"website"},n.getFieldProps("website"))),(0,b.jsx)("label",{htmlFor:"youtube",children:"Youtube: "}),(0,b.jsx)("input",(0,o.Z)({id:"youtube",type:"youtube",placeholder:"youtube"},n.getFieldProps("youtube"))),(0,b.jsx)("button",{type:"submit",children:"Save"})]})},B=function(e){var t=(0,l.useState)(!1),s=(0,u.Z)(t,2),o=s[0],i=s[1];if(!e.profile)return(0,b.jsx)(f.p,{});return(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:c,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("img",{alt:"avatar",src:e.profile.photos.large||D,className:d}),(0,b.jsx)("div",{className:h,children:e.isOwner&&(0,b.jsx)("input",{type:"file",onChange:function(t){t.target.files&&t.target.files.length&&e.savePhoto(t.target.files[0])}})})]}),(0,b.jsxs)("div",{className:p,children:[(0,b.jsx)(m,{status:e.status,updateStatus:e.updateStatus}),o?(0,b.jsx)(j,{profile:e.profile,saveProfile:e.saveProfile,setEditMode:i}):(0,b.jsx)(v,{profile:e.profile,isOwner:e.isOwner,activateEditMode:function(){return i(!0)}})]})]})})},v=function(e){return(0,b.jsxs)(b.Fragment,{children:[e.isOwner&&(0,b.jsx)("button",{onClick:e.activateEditMode,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),(0,b.jsxs)("p",{children:[(0,b.jsx)("b",{children:"\u041c\u0435\u043d\u044f \u0437\u043e\u0432\u0443\u0442:"})," ",e.profile.fullName]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("b",{children:"\u041e \u0441\u0435\u0431\u0435:"})," ",e.profile.aboutMe]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("b",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"})," ",e.profile.lookingForAJob?"\u0414\u0430! \u0414\u0430\u0439\u0442\u0435 \u043e\u0444\u0435\u0440!":"\u041d\u0435 \u0438\u0449\u0443, \u0436\u0434\u0443 \u0447\u0443\u0434\u0430"]}),e.profile.lookingForAJob&&(0,b.jsxs)("p",{children:[(0,b.jsx)("b",{children:"\u041c\u043e\u0438 \u0441\u043a\u0438\u043b\u044b:"})," ",e.profile.lookingForAJobDescription]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"})," ",Object.keys(e.profile.contacts).map((function(t){var s;return(0,b.jsx)(k,{contactTitle:t,contactValue:null===(s=e.profile)||void 0===s?void 0:s.contacts[t]},t)}))]})]})},k=function(e){var t=e.contactTitle,s=e.contactValue;return(0,b.jsxs)("div",{children:[(0,b.jsx)("b",{children:t})," : ",s]})},F=s(6043),P="MyPosts_myPosts__y4rcD",y="MyPosts_posts__2mx4z",w="MyPosts_sendMessageForm__xoEAa",_="MyPosts_messageArea__i8Rnl",A="MyPosts_sendMessageBtn__zVnDn",M="MyPosts_error__VEYNG",C="Post_post__j6m0S",E=function(e){return(0,b.jsxs)("div",{className:C,children:[(0,b.jsx)("img",{src:"https://media.istockphoto.com/id/1300845620/ru/%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%BD%D0%B0%D1%8F/%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C-icon-flat-%D0%B8%D0%B7%D0%BE%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD-%D0%BD%D0%B0-%D0%B1%D0%B5%D0%BB%D0%BE%D0%BC-%D1%84%D0%BE%D0%BD%D0%B5-%D1%81%D0%B8%D0%BC%D0%B2%D0%BE%D0%BB-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F-%D0%B8%D0%BB%D0%BB%D1%8E%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%B0.jpg?s=612x612&w=0&k=20&c=Po5TTi0yw6lM7qz6yay5vUbUBy3kAEWrpQmDaUMWnek=",alt:"avatar"}),e.message,(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{children:"Like"})," ",e.likesCount]})]})},N=(0,l.memo)((function(e){var t=e.posts.map((function(e){return(0,b.jsx)(E,{message:e.message,likesCount:e.likesCount},e.id)}));return(0,b.jsxs)("div",{className:P,children:[(0,b.jsx)("h3",{children:"My posts"}),(0,b.jsx)("div",{children:(0,b.jsx)(S,{addPost:function(t){e.addPost(t)}})}),(0,b.jsx)("div",{className:y,children:t})]})})),S=function(e){var t=(0,g.TA)({initialValues:{post:""},validate:function(e){var t={};return e.post||(t.post="\u0421annot be empty"),t},onSubmit:function(s){e.addPost(s.post),t.resetForm()}});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("form",{className:w,onSubmit:t.handleSubmit,children:[(0,b.jsx)("textarea",(0,o.Z)((0,o.Z)({placeholder:"Enter message",className:t.errors.post?M+" "+_:_},t.getFieldProps("post")),{},{name:"post",onBlur:t.handleBlur,value:t.values.post})),(0,b.jsx)("button",{className:A,disabled:!t.isValid||t.values.post.length<1,children:"Send"})]}),(0,b.jsx)("span",{style:{color:"red"},children:t.errors.post})]})},Z=s(364),J=(0,Z.$j)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e((0,F.Wl)(t))}}}))(N),T=function(e){return(0,b.jsxs)("div",{children:[(0,b.jsx)(B,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile}),(0,b.jsx)(J,{})]})},I=s(9271),L=s(7781),U=function(e){(0,n.Z)(s,e);var t=(0,a.Z)(s);function s(){var e;(0,i.Z)(this,s);for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))).refreshProfile=function(){var t=+e.props.match.params.userId;t||(t=e.props.authorizesUserId)||e.props.history.push("/login"),e.props.getUserProfileTC(t),e.props.getUserStatusTC(t)},e}return(0,r.Z)(s,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,b.jsx)("div",{children:(0,b.jsx)(T,(0,o.Z)((0,o.Z)({},this.props),{},{status:this.props.status,updateStatus:this.props.updateUserStatusTC,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto}))})}}]),s}(l.Component),V=(0,L.qC)((0,Z.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizesUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfileTC:F.d$,getUserStatusTC:F.Qw,updateUserStatusTC:F.wM,savePhoto:F.Ju,saveProfile:F.Ii}),I.EN)(U)},4661:function(e,t,s){e.exports=s.p+"static/media/defaultAvatar.8e7ab55da0bc52271ed8.jpeg"}}]);
//# sourceMappingURL=856.654c078e.chunk.js.map