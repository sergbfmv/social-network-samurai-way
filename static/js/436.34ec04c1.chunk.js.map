{"version":3,"file":"static/js/436.34ec04c1.chunk.js","mappings":"oLACA,G,QAA0B,0BAA1B,EAAkE,8BAAlE,EAA6K,0BAA7K,EAA4P,iCAA5P,EAA2S,6BAA3S,EAAyV,gCAAzV,EAAiY,uBCAjY,EAAyB,2BAAzB,EAA6D,2B,mBCQhDA,EAA4C,SAACC,GACtD,IAAIC,EAAO,YAAcD,EAAME,GAE/B,OACI,gBAAKC,UAAWC,EAAhB,UACI,SAAC,KAAD,CAASC,gBAAiBD,EAAUE,GAAIL,EAAxC,SAA+CD,EAAMO,UCbjE,EAA+D,yBCOlDC,EAAsC,SAACR,GAChD,OAAO,iBAAKG,UAAWC,EAAhB,WACH,gBACIK,IAAI,+lBACJC,IAAI,WACPV,EAAMW,Y,UCgCFC,EAAiB,SAACZ,GAE3B,IAAMa,GAASC,EAAAA,EAAAA,IAAU,CACrBC,cAAe,CACXJ,QAAS,IAEbK,SAAU,SAACC,GACP,IAAMC,EAA0B,GAKhC,OAJKD,EAAON,UACRO,EAAOP,QAAU,wBAGdO,GAEXC,SAAU,SAAAF,GAGNjB,EAAMoB,YAAYH,EAAON,SACzBE,EAAOQ,eAIf,OACI,iCACI,kBAAMlB,UAAWC,EAAmBe,SAAUN,EAAOS,aAArD,WACQ,qCACIC,YAAY,gBACZpB,UAAWU,EAAOK,OAAOP,QAAUP,EAAU,IAAMA,EAAgBA,GAC/DS,EAAOW,cAAc,YAH7B,IAIIjB,KAAK,UACLkB,OAAQZ,EAAOa,WACfC,MAAOd,EAAOI,OAAON,YAM7B,mBAAQR,UAAWC,EACXwB,UAAWf,EAAOgB,SAAWhB,EAAOI,OAAON,QAAQmB,OAAS,EADpE,sBAIJ,iBAAMC,MAAO,CAACC,MAAO,OAArB,SAA8BnB,EAAOK,OAAOP,c,oDCjFlDsB,EAAkB,SAACC,GACrB,MAAO,CACHC,OAAQD,EAAME,KAAKD,SCC3B,IAcA,GAAeE,EAAAA,EAAAA,KDXR,SAA6BC,GAUhC,OAFiCC,EAAAA,EAAAA,IAAQN,EAARM,EAPP,SAACvC,GACvB,IAAKmC,EAAwBnC,EAAxBmC,OAAWK,GAAhB,OAA6BxC,EAA7B,GACA,OAAKmC,GAEE,SAACG,GAAD,UAAeE,KAFF,SAAC,KAAD,CAAUlC,GAAI,iBCQoBiC,EAAAA,EAAAA,KAdxC,SAACL,GACnB,MAAO,CACHO,YAAaP,EAAMO,gBAIF,SAACC,GACtB,MAAO,CACHC,mBAAoB,SAAChC,GACjB+B,GAASE,EAAAA,EAAAA,GAAyBjC,SAK9C,EFfmD,SAACX,GAEhD,IAAMkC,EAAQlC,EAAMyC,YAChBI,EAAmBX,EAAMY,SAASC,KAAI,SAACC,GAAD,OAAO,SAACxC,EAAD,CAAoBG,QAASqC,EAAErC,QAAST,GAAI8C,EAAE9C,IAAhC8C,EAAE9C,OAC7D+C,EAAkBf,EAAMgB,QAAQH,KAAI,SAACI,GACrC,OACI,SAACpD,EAAD,CAAuBQ,KAAM4C,EAAE5C,KAAML,GAAIiD,EAAEjD,IAA1BiD,EAAEjD,OAS3B,OACI,iBAAKC,UAAWC,EAAhB,WACI,gBAAKD,UAAWC,EAAhB,SACK6C,KAEL,iBAAK9C,UAAWC,EAAhB,UACKyC,GACD,SAACjC,EAAD,CAAgBQ,YAZD,SAACT,GACxBX,EAAM2C,mBAAmBhC","sources":["webpack://samurai-way/./src/components/Dialogs/Dialogs.module.css?1b2e","webpack://samurai-way/./src/components/Dialogs/DialogItem/DialogItem.module.css?beb9","components/Dialogs/DialogItem/DialogItem.tsx","webpack://samurai-way/./src/components/Dialogs/Message/Message.module.css?72d0","components/Dialogs/Message/Message.tsx","components/Dialogs/Dialogs.tsx","hoc/withAuthRedirect.tsx","components/Dialogs/DialogsContainer.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"dialogs\":\"Dialogs_dialogs__oe96H\",\"dialogsItems\":\"Dialogs_dialogsItems__zeEWD\",\"dialog\":\"Dialogs_dialog__htSTl\",\"active\":\"Dialogs_active__t8cjl\",\"messages\":\"Dialogs_messages__Cg2l+\",\"message\":\"Dialogs_message__ZEWo0\",\"sendMessageForm\":\"Dialogs_sendMessageForm__clW9h\",\"messageArea\":\"Dialogs_messageArea__J5uoV\",\"sendMessageBtn\":\"Dialogs_sendMessageBtn__7vpHy\",\"error\":\"Dialogs_error__fLVDP\"};","// extracted by mini-css-extract-plugin\nexport default {\"dialog\":\"DialogItem_dialog__gU34-\",\"active\":\"DialogItem_active__wvgh9\"};","import React from 'react';\nimport s from './DialogItem.module.css'\nimport {NavLink} from \"react-router-dom\";\n\ntype DialogItemPropsType = {\n    name: string\n    id: number\n}\n\nexport const DialogItem: React.FC<DialogItemPropsType> = (props) => {\n    let path = '/dialogs/' + props.id\n\n    return (\n        <div className={s.dialog}>\n            <NavLink activeClassName={s.active} to={path}>{props.name}</NavLink>\n        </div>\n    )\n}\n\n","// extracted by mini-css-extract-plugin\nexport default {\"messages\":\"Message_messages__eByBY\",\"message\":\"Message_message__rjHQQ\"};","import React from 'react';\nimport s from './Message.module.css'\n\ntype MessagePropsType = {\n    id: number\n    message: string\n}\n\nexport const Message: React.FC<MessagePropsType> = (props) => {\n    return <div className={s.message}>\n        <img\n            src=\"https://media.istockphoto.com/id/1300845620/ru/%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%BD%D0%B0%D1%8F/%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C-icon-flat-%D0%B8%D0%B7%D0%BE%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD-%D0%BD%D0%B0-%D0%B1%D0%B5%D0%BB%D0%BE%D0%BC-%D1%84%D0%BE%D0%BD%D0%B5-%D1%81%D0%B8%D0%BC%D0%B2%D0%BE%D0%BB-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F-%D0%B8%D0%BB%D0%BB%D1%8E%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%B0.jpg?s=612x612&w=0&k=20&c=Po5TTi0yw6lM7qz6yay5vUbUBy3kAEWrpQmDaUMWnek=\"\n            alt=\"avatar\"/>\n        {props.message}\n    </div>\n}\n\n","import React from 'react';\nimport s from './Dialogs.module.css'\nimport {DialogItem} from \"./DialogItem/DialogItem\";\nimport {Message} from \"./Message/Message\";\nimport {DialogsPageType} from \"../../redux/DialogsReducer\";\nimport {useFormik} from \"formik\";\n\nexport const Dialogs: React.FC<DialogsPropsType> = (props) => {\n\n    const state = props.dialogsPage\n    let messagesElements = state.messages.map((m) => <Message key={m.id} message={m.message} id={m.id}/>)\n    let dialogsElements = state.dialogs.map((d) => {\n        return (\n            <DialogItem key={d.id} name={d.name} id={d.id}/>\n        )\n    })\n\n    const onSendMessageClick = (message: string) => {\n        props.onSendMessageClick(message)\n    }\n\n\n    return (\n        <div className={s.dialogs}>\n            <div className={s.dialogsItems}>\n                {dialogsElements}\n            </div>\n            <div className={s.messages}>\n                {messagesElements}\n                <AddMessageForm sendMessage={onSendMessageClick}/>\n            </div>\n        </div>\n    );\n};\n\n\n//Types\nexport type DialogsPropsType = {\n    onNewMessageChange: (text: string) => void\n    onSendMessageClick: (message: string) => void\n    dialogsPage: DialogsPageType\n    isAuth: boolean\n}\n\n\nexport const AddMessageForm = (props: PropsType) => {\n\n    const formik = useFormik({\n        initialValues: {\n            message: ''\n        },\n        validate: (values) => {\n            const errors: FormikErrorType = {}\n            if (!values.message) {\n                errors.message = 'Ð¡annot be empty'\n            }\n\n            return errors\n        },\n        onSubmit: values => {\n            // dispatch(loginTC(values))\n            // alert(JSON.stringify(values));\n            props.sendMessage(values.message)\n            formik.resetForm()\n        },\n    })\n\n    return (\n        <>\n            <form className={s.sendMessageForm} onSubmit={formik.handleSubmit}>\n                    <textarea\n                        placeholder='Enter message'\n                        className={formik.errors.message ? s.error + ' ' + s.messageArea : s.messageArea}\n                        {...formik.getFieldProps('message')}\n                        name=\"message\"\n                        onBlur={formik.handleBlur}\n                        value={formik.values.message}\n                        // onChange={(e) => {\n                        //     props.onChange(e);\n                        //     formik.handleChange(e);\n                        // }}\n                    ></textarea>\n                <button className={s.sendMessageBtn}\n                        disabled={!formik.isValid || formik.values.message.length < 1}>Send\n                </button>\n            </form>\n            <span style={{color: 'red'}}>{formik.errors.message}</span>\n        </>\n    )\n}\n\n\n//Types\ntype FormikErrorType = {\n    message?: string\n}\n\ntype PropsType = {\n    sendMessage: (message: string) => void\n}\n","import React, {ComponentType} from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\nimport {AppStateType} from \"../redux/reduxStore\";\n\nconst mapStateToProps = (state: AppStateType): mapStateToPropsType => {\n    return {\n        isAuth: state.auth.isAuth\n    }\n}\n\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\n    const RedirectComponent = (props: mapStateToPropsType) => {\n        let {isAuth, ...restProps} = props\n        if (!isAuth) return <Redirect to={'/login'}/>\n\n        return <Component {...restProps as T} />\n    }\n\n    let ConnectedRedirectComponent = connect(mapStateToProps)(RedirectComponent)\n\n    return ConnectedRedirectComponent\n}\n\n\n//Types\ntype mapStateToPropsType = {\n    isAuth: boolean\n}","import {sendMessageActionCreator} from \"../../redux/DialogsReducer\";\nimport {Dialogs} from \"./Dialogs\";\nimport {connect} from \"react-redux\";\nimport {AppStateType} from \"../../redux/reduxStore\";\nimport {compose, Dispatch} from \"redux\";\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport React from \"react\";\n\nlet mapStateToProps = (state: AppStateType) => {\n    return {\n        dialogsPage: state.dialogsPage\n    }\n}\n\nlet mapDispatchToProps = (dispatch: Dispatch) => {\n    return {\n        onSendMessageClick: (message: string) => {\n            dispatch(sendMessageActionCreator(message))\n        },\n    }\n}\n\nexport default compose<React.ComponentType>(withAuthRedirect, connect(mapStateToProps, mapDispatchToProps))(Dialogs)\n"],"names":["DialogItem","props","path","id","className","s","activeClassName","to","name","Message","src","alt","message","AddMessageForm","formik","useFormik","initialValues","validate","values","errors","onSubmit","sendMessage","resetForm","handleSubmit","placeholder","getFieldProps","onBlur","handleBlur","value","disabled","isValid","length","style","color","mapStateToProps","state","isAuth","auth","compose","Component","connect","restProps","dialogsPage","dispatch","onSendMessageClick","sendMessageActionCreator","messagesElements","messages","map","m","dialogsElements","dialogs","d"],"sourceRoot":""}