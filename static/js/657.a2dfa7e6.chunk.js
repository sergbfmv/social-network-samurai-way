"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[657],{5657:function(s,t,e){e.r(t),e.d(t,{default:function(){return U}});var r=e(1413),a=e(5671),n=e(3144),o=e(136),i=e(8557),u=e(2791),l="ProfileInfo_descriptionBlock__XBXuJ",D="ProfileInfo_avatarLarge__Wev6q",c="ProfileInfo_infoBlock__mZ2kj",d=e(4863),p=e(9439),B=e(184),h=function(s){var t=(0,u.useState)(!1),e=(0,p.Z)(t,2),r=e[0],a=e[1],n=(0,u.useState)(s.status),o=(0,p.Z)(n,2),i=o[0],l=o[1];(0,u.useEffect)((function(){l(s.status)}),[s.status]);return(0,B.jsxs)("div",{children:[!r&&(0,B.jsx)("div",{onDoubleClick:function(){a(!0)},children:s.status||"No status"}),r&&(0,B.jsx)("div",{children:(0,B.jsx)("input",{autoFocus:!0,value:i,onBlur:function(){a(!1),s.updateStatus(i)},onChange:function(s){l(s.currentTarget.value)}})})]})},f=function(s){return s.profile?(0,B.jsx)("div",{children:(0,B.jsxs)("div",{className:l,children:[(0,B.jsx)("img",{alt:"avatar",src:s.profile.photos.large,className:D}),(0,B.jsxs)("div",{className:c,children:[(0,B.jsx)(h,{status:s.status,updateStatus:s.updateStatus}),(0,B.jsxs)("p",{children:[(0,B.jsx)("b",{children:"\u041e \u0441\u0435\u0431\u0435:"})," ",s.profile.aboutMe]}),(0,B.jsxs)("p",{children:[(0,B.jsx)("b",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"})," ",s.profile.lookingForAJobDescription]})]})]})}):(0,B.jsx)(d.p,{})},m=e(6043),j="MyPosts_myPosts__IclvI",x="MyPosts_posts__GSiZ2",v="MyPosts_sendMessageForm__+Zu+I",_="MyPosts_messageArea__KrY9z",g="MyPosts_sendMessageBtn__N5SFI",P="MyPosts_error__zuzRW",y="Post_post__wW6-Y",C=function(s){return(0,B.jsxs)("div",{className:y,children:[(0,B.jsx)("img",{src:"https://media.istockphoto.com/id/1300845620/ru/%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%BD%D0%B0%D1%8F/%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C-icon-flat-%D0%B8%D0%B7%D0%BE%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD-%D0%BD%D0%B0-%D0%B1%D0%B5%D0%BB%D0%BE%D0%BC-%D1%84%D0%BE%D0%BD%D0%B5-%D1%81%D0%B8%D0%BC%D0%B2%D0%BE%D0%BB-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F-%D0%B8%D0%BB%D0%BB%D1%8E%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%B2%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D0%B0.jpg?s=612x612&w=0&k=20&c=Po5TTi0yw6lM7qz6yay5vUbUBy3kAEWrpQmDaUMWnek=",alt:"avatar"}),s.message,(0,B.jsxs)("div",{children:[(0,B.jsx)("span",{children:"Like"})," ",s.likesCount]})]})},k=e(5705),S=(0,u.memo)((function(s){var t=s.posts.map((function(s){return(0,B.jsx)(C,{message:s.message,likesCount:s.likesCount},s.id)}));return(0,B.jsxs)("div",{className:j,children:[(0,B.jsx)("h3",{children:"My posts"}),(0,B.jsx)("div",{children:(0,B.jsx)(E,{addPost:function(t){s.addPost(t)}})}),(0,B.jsx)("div",{className:x,children:t})]})})),E=function(s){var t=(0,k.TA)({initialValues:{post:""},validate:function(s){var t={};return s.post||(t.post="\u0421annot be empty"),t},onSubmit:function(e){s.addPost(e.post),t.resetForm()}});return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("form",{className:v,onSubmit:t.handleSubmit,children:[(0,B.jsx)("textarea",(0,r.Z)((0,r.Z)({placeholder:"Enter message",className:t.errors.post?P+" "+_:_},t.getFieldProps("post")),{},{name:"post",onBlur:t.handleBlur,value:t.values.post})),(0,B.jsx)("button",{className:g,disabled:!t.isValid||t.values.post.length<1,children:"Send"})]}),(0,B.jsx)("span",{style:{color:"red"},children:t.errors.post})]})},b=e(364),M=(0,b.$j)((function(s){return{posts:s.profilePage.posts}}),(function(s){return{addPost:function(t){s((0,m.Wl)(t))}}}))(S),Z=function(s){return(0,B.jsxs)("div",{children:[(0,B.jsx)(f,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,B.jsx)(M,{})]})},F=e(9271),N=e(7781),I=function(s){(0,o.Z)(e,s);var t=(0,i.Z)(e);function e(){return(0,a.Z)(this,e),t.apply(this,arguments)}return(0,n.Z)(e,[{key:"componentDidMount",value:function(){var s=+this.props.match.params.userId;s||(s=this.props.authorizesUserId)||this.props.history.push("/login"),this.props.getUserProfileTC(s),this.props.getUserStatusTC(s)}},{key:"render",value:function(){return(0,B.jsx)("div",{children:(0,B.jsx)(Z,(0,r.Z)((0,r.Z)({},this.props),{},{status:this.props.status,updateStatus:this.props.updateUserStatusTC}))})}}]),e}(u.Component),U=(0,N.qC)((0,b.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizesUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfileTC:m.d$,getUserStatusTC:m.Qw,updateUserStatusTC:m.wM}),F.EN)(I)}}]);
//# sourceMappingURL=657.a2dfa7e6.chunk.js.map